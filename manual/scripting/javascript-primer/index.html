<!DOCTYPE html>
<html lang="zh">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>JavaScript入门指南 | Fireball Docs</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="http://nantas.github.io/new-docs/manual/scripting/javascript-primer/index.html">
  <!-- Alternative links -->
  
    
      
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/new-docs/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/new-docs/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/new-docs/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/new-docs/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/new-docs/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/new-docs/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/new-docs/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/new-docs/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/new-docs/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/new-docs/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/new-docs/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/new-docs/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/new-docs/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/new-docs/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/new-docs/css/style.css" type="text/css">
    <link rel="stylesheet" href="/new-docs/css/highlight.css" type="text/css">
  <!-- endbuild -->
  <!-- RSS -->
  <link rel="alternative" href="/new-docs/atom.xml" title="Fireball Docs" type="application/atom+xml">
  <!-- Open Graph -->
  
    
    
  
  <!-- Swiftype -->
  
  <!-- Google Analytics -->
  
</head>

<div id="full-wrap">
<div class="container-fluid">
    <header id="top">
    <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/zh">
                    <img height="50" alt="logo" src="/new-docs/images/logo.png">
                </a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    
                    <li ><a href="/zh">Home</a></li>
                    
                    <li ><a href="/new-docs/tutorial">新手教程</a></li>
                    
                    <li ><a href="/new-docs/manual">用户手册</a></li>
                    
                    <li ><a href="/new-docs/api">API</a></li>
                    
                    <li ><a href="http://fireball-x.com">Fireball官网</a></li>
                    
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://github.com/fireball-x/docs/edit/master/source/_posts/manual/scripting/javascript-primer.md"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
                </ul>
            </div>

        </div>
    </nav>
</header>
</div>
  <div class="container content-wrap">
    <div class="row">
    <div class="col-lg-3 col-md-4">
        <aside id="sidebar" role="navigation">
  <div class="inner">
      <ul class="nav nav-pills nav-stacked"><li role="presentation" class="sidebar-title"><strong class="sidebar-title">开始使用</strong></li><li role="presentation" ><a href="/new-docs/manual/start/get-fireball" class="sidebar-link">获取Fireball</a></li><li role="presentation" ><a href="/new-docs/manual/start/new-project" class="sidebar-link">新建项目</a></li><li role="presentation" ><a href="/new-docs/manual/start/editor-overview" class="sidebar-link">认识Editor</a></li><li role="presentation" ><a href="/new-docs/manual/start/from-unity" class="sidebar-link">Unity开发者上手</a></li><li role="presentation" class="sidebar-title"><strong class="sidebar-title">脚本编写</strong></li><li role="presentation" class="active"><a href="/new-docs/manual/scripting/javascript-primer" class="sidebar-link">JavaScript入门指南</a></li><li role="presentation" ><a href="/new-docs/manual/scripting/class" class="sidebar-link">类型定义</a></li><li role="presentation" class="sidebar-title"><strong class="sidebar-title">插件开发</strong></li><li role="presentation" ><a href="/new-docs/manual/plugin/config-package-json" class="sidebar-link">插件设置</a></li><li role="presentation"><a role="button" href="#top">back to top</a></li><li role="presentation"><a role="button" href="https://github.com/fireball-x/docs/edit/master/source/_data/sidebar_manual.yml">Edit Sidebar</a></li></ul>
  </div>
</aside>
    </div>
    <div class="col-lg-7 col-md-8">
        <div class="title-header">
            <h1>JavaScript入门指南</h1>
        </div>
        <div>
            <ol class="breadcrumb">
                <li><a href="/zh">Home</a></li>
                <li><a href="/new-docs/manual">用户手册</a></li>
                <li class="active">JavaScript入门指南</li>
            </ol>
        </div>
        <blockquote>
<p>本文改编自 <a href="https://www.discovermeteor.com/blog/javascript-for-meteor/" target="_blank" rel="external">A JavaScript Primer For Meteor</a></p>
</blockquote>
<h2 id="概述">概述</h2><p>本文以介绍 JavaScript 为主，初学者掌握本文的内容后，将能够对 JavaScript 有大体了解，并且满足 Fireball 的开发需求。</p>
<p>JavaScript is a language full of contradictions: it’s named after Java even though it doesn’t have anything to do with it, it was <a href="https://www.w3.org/community/webed/wiki/A_Short_History_of_JavaScript" target="_blank" rel="external">created in 10 days</a> but is still in use 20 years later, and despite getting its fair share of criticism, it’s ubiquitous on the web.</p>
<p>If JavaScript has one thing going for it, is that it’s easy to get started with. Now don’t get me wrong: truly mastering JavaScript is a difficult task. But learning enough to get by isn’t that hard, and shouldn’t take long especially if you already have some experience with other programming languages.</p>
<p>What’s more, when building Fireball games you’ll often find yourself re-using the same patterns over and over. And as stated by the Pareto principle, learning 20% of a language should be enough to cover 80% of situations.</p>
<p>So today, let’s take a look at the absolute minimum amount of JavaScript you need to know to learn Fireball.</p>
<h2 id="Following_Along">Following Along</h2><p>Did you know that you already possessed a full-fledged JavaScript development environment? I’m talking about the very browser you’re reading this with!</p>
<p>So you can follow along with all these examples simply by typing them into your browser console. Here’s <a href="http://webmasters.stackexchange.com/a/77337" target="_blank" rel="external">a handy guide</a> on how to open it in various browsers.</p>
<p>Ready? Let’s learn some JavaScript!</p>
<h2 id="Variables">Variables</h2><p>Here’s how you declare a variable in JavaScript:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br></pre></td></tr></table></figure>
<p>The var keyword lets JavaScript know that whatever comes after is a variable. Now let’s assign a value to our variable:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">12</span>;</span><br></pre></td></tr></table></figure>
<p>Now maybe you’ve seen something like this while looking at some JavaScript code:</p>
<figure class="highlight autohotkey"><table><tr><td class="code"><pre><span class="line"><span class="literal">a</span> = <span class="number">12</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>JavaScript doesn’t seem to mind when you ommit the var keyword. So what is it good for?</p>
<p>The var keyword makes our variable local. Inside a Fireball project, this means that prefixing a variable with var will restrict its scope to the function you’re declaring it in (or the file, if you declare it outside of any function).</p>
<p>On the other hand, <strong>omitting the var keyword will make your variable available to your whole Fireball project</strong>. Sometimes that’s good, but in most case it’s better to try and avoid polluting the global scope.</p>
<h2 id="Functions">Functions</h2><p>Here’s how you declare a function in JavaScript:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myAwesomeFunction = <span class="function"><span class="keyword">function</span> <span class="params">(myArgument)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And here’s how you’d call your function:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">myAwesomeFunction(something);</span><br></pre></td></tr></table></figure>
<p>You’ll notice function declarations follow the same var something = somethingElse pattern as variable declarations.</p>
<p>As they should, since in JavaScript, functions are variables too! This means that you can do stuff like using functions as arguments for other functions:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">square = <span class="function"><span class="keyword">function</span> <span class="params">(a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a * a;</span><br><span class="line">&#125;</span><br><span class="line">applyOperation = <span class="function"><span class="keyword">function</span> <span class="params">(f, a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f(a);</span><br><span class="line">&#125;</span><br><span class="line">applyOperation (square, <span class="number">10</span>); <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>
<h2 id="Return">Return</h2><p>A return statement takes a value and returns this value as the result of a function. The key thing to remember here is that whatever comes after return will never get executed:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">myFunction = <span class="function"><span class="keyword">function</span> <span class="params">(a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a * <span class="number">3</span>;</span><br><span class="line">    explodeComputer(); <span class="comment">// will never get executed (hopefully!)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="If_Statements">If Statements</h2><p>Here’s what an If statement looks like in JavaScript:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">    <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="If/Else_Statements">If/Else Statements</h2><p>Here’s what an If/Else statement looks like in JavaScript:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">    function1();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    function2();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If/Else statements also have their own shorthand syntax:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">foo ? function1() : function2();</span><br></pre></td></tr></table></figure>
<p>This is particularly useful when assigning a value to a variable:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> n = foo ? <span class="number">1</span> : <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>This means “if foo is true, then set n to 1, otherwise set it to 2”.</p>
<p>Oh and for good measure, here’s an If/Else If/Else:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">    function1();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (bar) &#123;</span><br><span class="line">    function2();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    function3();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="JavaScript_Arrays">JavaScript Arrays</h2><p>Here’s how you define an array:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a = [<span class="number">123</span>, <span class="number">456</span>, <span class="number">789</span>];</span><br></pre></td></tr></table></figure>
<p>And here’s how you access an array item (indexes start at 0):</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a[<span class="number">1</span>]; <span class="comment">// 456</span></span><br></pre></td></tr></table></figure>
<h2 id="JavaScript_Objects">JavaScript Objects</h2><p>Here’s how you define a JavaScript object:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">myProfile = &#123;</span><br><span class="line">    name: <span class="string">"Jare Guo"</span>,</span><br><span class="line">    email: <span class="string">"blabla@gmail.com"</span>,</span><br><span class="line">    <span class="string">'zip code'</span>: <span class="number">12345</span>,</span><br><span class="line">    isInvited: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>After the object declaration (<code>myProfile = {…}</code>) comes a list of comma-separated pairs. Each pair contains a key (a string, which can optionally be enclosed in quotes if it contains any spaces) and a value (any type of JavaScript item: strings, numbers, booleans, variables, arrays, objects, and even functions).</p>
<p>You can also nest objects, and even use arrays:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">myProfile = &#123;</span><br><span class="line">    name: <span class="string">"Jare Guo"</span>,</span><br><span class="line">    email: <span class="string">"blabla@gmail.com"</span>,</span><br><span class="line">    city: <span class="string">"Xiamen"</span>,</span><br><span class="line">    points: <span class="number">1234</span>,</span><br><span class="line">    isInvited: <span class="literal">true</span>,</span><br><span class="line">    friends: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">"Johnny"</span>,</span><br><span class="line">            email: <span class="string">"blablabla@gmail.com"</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">"Nantas"</span>,</span><br><span class="line">            email: <span class="string">"piapiapia@gmail.com"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Accessing an object’s property couldn’t be simpler: just use the dot notation. You can even combine it with arrays:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">myProfile.name; <span class="comment">// Jare Guo</span></span><br><span class="line">myProfile.friends[<span class="number">1</span>].name; <span class="comment">// Nantas</span></span><br></pre></td></tr></table></figure>
<p>You’ll find JavaScript objects almost everywhere in JavaScript, especially when invoking functions. For example, here’s how you define a FireClass in Fireball:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> MyComponent = Fire.Class(&#123;</span><br><span class="line">    extends: Fire.Component</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>This <code>{extends: Fire.Component}</code> argument is an anonymous JavaScript object. With JavaScript, you’ll see that most of the time you don’t actually need to assign a name to an object (or even to a function) to make use of it.</p>
<h2 id="Anonymous_Functions">Anonymous Functions</h2><p>We’ve seen you can declare functions using the following syntax:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">myFunction = <span class="function"><span class="keyword">function</span> <span class="params">(myArgument)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And we’ve seen that JavaScript treats functions just like variables, letting you pass them as arguments to other functions:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">square = <span class="function"><span class="keyword">function</span> <span class="params">(a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a * a;</span><br><span class="line">&#125;</span><br><span class="line">applyOperation = <span class="function"><span class="keyword">function</span> <span class="params">(f, a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f(a);</span><br><span class="line">&#125;</span><br><span class="line">applyOperation(square, <span class="number">10</span>); <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>
<p>And we’ve also seen that JavaScript loves coming up with shorter ways to write things. So here’s an equivalent syntax:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">applyOperation = <span class="function"><span class="keyword">function</span> <span class="params">(f, a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> f(a);</span><br><span class="line">&#125;</span><br><span class="line">applyOperation(</span><br><span class="line">    <span class="function"><span class="keyword">function</span><span class="params">(a)</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> a*a;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="number">10</span></span><br><span class="line">) <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>
<p>Instead of defining the square function and passing it as an argument, we’re defining it inside the argument call. This is known as using an “anonymous function”, and it’s one of the most common JavaScript patterns around.</p>
<h2 id="Chaining">Chaining</h2><p>We’ve seen that you can pass parameters to functions. But there’s another syntax that you’ll often encounter for things such as array or string operations:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = [<span class="number">123</span>, <span class="number">456</span>];</span><br><span class="line">myArray.push(<span class="number">789</span>) <span class="comment">// 123, 456, 789</span></span><br><span class="line"><span class="keyword">var</span> myString = <span class="string">"abcdef"</span>;</span><br><span class="line">myString.replace(<span class="string">"a"</span>, <span class="string">"z"</span>); <span class="comment">// "zbcdef"</span></span><br></pre></td></tr></table></figure>
<p>This dot notation means “call the <code>replace</code> function on <code>myString</code> with arguments “a” and “z” and return the result”.</p>
<p>The beauty of it is that you can also chain multiple links together as long as they all return something. We won’t get into how to define chainable functions, but using them is easy enough. Just follow the <code>something.function1().function2().function3()</code> pattern.</p>
<p>Each link of the chain will take a value, apply a function to it, and then pass on its result to the next link:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">5</span>;</span><br><span class="line">n.double().square(); <span class="comment">//100</span></span><br></pre></td></tr></table></figure>
<h2 id="This">This</h2><p><code>this</code> is probably one of the hardest concept to master in all of JavaScript.</p>
<p>Basically, the <code>this</code> keyword lets you access the object on which you’re currently working: just like a chameleon, <code>this</code> keeps changing based on its surroundings.</p>
<p>So instead of trying to explain <code>this</code>, let me give you two tools to help you figure things out yourself (what do you mean, I’m taking the easy way out?!).</p>
<p>The first is the good old <code>console.log()</code>, which prints any object to the browser’s console. Adding a <code>console.log(this)</code> to begin a function is often the best way to figure out what’s going on:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">myFunction = <span class="function"><span class="keyword">function</span> <span class="params">(a, b)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The second pattern is assigning <code>this</code> to another variable:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">myFunction = <span class="function"><span class="keyword">function</span> <span class="params">(a, b)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> myObject = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>While it might at first seem like this doesn’t accomplish anything, it lets you safely re-use <code>myObject</code> throughout your code, since unlike <code>this</code> its value won’t change depending on the context.</p>
<h2 id="Operators">Operators</h2><p><code>=</code> is the assigment operator. This means that <code>a = 12</code> means assign the value “12” to <code>a</code>.</p>
<p>If you want to compare two values, you would use <code>==</code>, as in <code>a == 12</code>.</p>
<p>JavaScript also features the <code>===</code> operator, which compares both value and type (i.e. string, integer, etc.):</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a = <span class="string">"12"</span>;</span><br><span class="line">a == <span class="number">12</span>; <span class="comment">// true</span></span><br><span class="line">a === <span class="number">12</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>In most cases, you’ll want to use the <code>===</code> operator whenever comparing two values, because there aren’t that many cases where you’d want two variables to be equal in value but not in type.</p>
<p>Here’s JavaScript’s unequality operator:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a = <span class="number">12</span>;</span><br><span class="line">a !== <span class="number">11</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>The <code>!</code> operator can also be used independently to get the opposite of a boolean value:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a = <span class="literal">true</span>;</span><br><span class="line">!a; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>An interesting consequence of the <code>!</code> operator is that it always returns a boolean value, even if what comes after is not a boolean:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a = <span class="number">12</span>;</span><br><span class="line">!a; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>This means that if you want to convert a variable to boolean you can just use the <code>!</code> operator twice (once to force the variable to boolean, a second time to revert the value back):</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a = <span class="number">12</span>;</span><br><span class="line">!!a; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>Or:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a = <span class="number">0</span>;</span><br><span class="line">!!a; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h2 id="Style">Style</h2><p>Finally, here are a few optional style rules that will make your JavaScript code cleaner:</p>
<ul>
<li>Use camelCase: write myRandomVariable, not my_random_variable.</li>
<li>Add a ; at the end of each line, even if it’s optional.</li>
<li>Separate each keyword with a space, i.e. a = b + 1, not a=b+1.</li>
</ul>
<p>You’ll find more guidelines in the (TODO).</p>
<h2 id="Putting_It_Together">Putting It Together</h2><p>So now that you’re equipped with the basics of JavaScript syntax, let’s try to put it together and understand a bit of Fireball code:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Comp = Fire.Class(&#123;</span><br><span class="line">    extends: Fire.Component,</span><br><span class="line"></span><br><span class="line">    properties: &#123;</span><br><span class="line">        target: &#123;</span><br><span class="line">            <span class="keyword">default</span>: <span class="literal">null</span>,</span><br><span class="line">            type: Fire.Entity</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    onStart: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = Fire.Entity.find(<span class="string">'/Main Player/Bip/Head'</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    update: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.transform.worldPosition = <span class="keyword">this</span>.target.transform.worldPosition;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>这段代码向引擎定义了一个新组件，这个组件具有一个 <code>target</code> 参数，在运行时会初始化为指定的对象，并且在运行的过程中每一帧都将自己设置成和 <code>target</code> 相同的坐标。</p>
<p>Let’s break this down (I’ll highlight each syntax pattern as we go):</p>
<p><code>var Comp = Fire.Class({</code>: We’re diving into the <code>Fire</code> object, using <strong>dot notation</strong> to call the <code>Class()</code> function (which is itself a property of <code>Fire</code>) on an anonymous <strong>JavaScript object</strong> (<code>{}</code>) (chaining, JavaScript objects).</p>
<p><code>target: { default: null, type: Fire.Entity }</code>: 这个键值对声明了一个名为 <code>target</code> 的属性，值是另一个 JavaScript 匿名对象。这个对象定义了 target 的默认值和值类型。</p>
<p><code>extends: Fire.Component</code>: 这个键值对声明这个 Class 的父类是 Fire.Component。Fire.Component 是 Fireball 的内置类型。</p>
<p><code>onStart: function () {</code>: The key/value pair implement an instance method called onStart, the value is an <strong>anonymous function</strong>.</p>
<p><code>this.target = Fire.Entity.find(&#39;</code>: In this context, <code>this</code> corresponds to the component being created. 这里通过 <code>this.target</code> 来访问 <code>target</code> 属性。</p>
<h2 id="Going_Forward">Going Forward</h2><p>This tutorial is by no means meant to replace actually learning JavaScript. But the various patterns covered here should be enough to let you understand the vast majority of Discover Fireball’s code, at least from a syntax point of view.</p>
<p>So if like me you prefer learning by doing, hopefully this should be enough to get you ready to start building Fireball games!</p>
<h2 id="JavaScript_Resources">JavaScript Resources</h2><p>以下是 JavaScript 的一些入门教程:</p>
<ul>
<li><a href="http://javascript.ruanyifeng.com/" target="_blank" rel="external">JavaScript标准参考教程</a></li>
<li><a href="http://bonsaiden.github.io/JavaScript-Garden/zh/" target="_blank" rel="external">JavaScript秘密花园</a></li>
</ul>
<p>欢迎在评论里提供更多的学习教程。</p>

        <div>
            <hr>
            <a href="https://github.com/fireball-x/docs/edit/master/source/_posts/manual/scripting/javascript-primer.md">Edit This Page</a>
        </div>
    </div>
    <div class="col-lg-2 hidden-md hidden-sm hidden-xs">
        <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
                <strong class="sidebar-title">内容索引</strong>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#概述"><span class="toc-text">概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Following_Along"><span class="toc-text">Following Along</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Variables"><span class="toc-text">Variables</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Functions"><span class="toc-text">Functions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Return"><span class="toc-text">Return</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#If_Statements"><span class="toc-text">If Statements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#If/Else_Statements"><span class="toc-text">If/Else Statements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript_Arrays"><span class="toc-text">JavaScript Arrays</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript_Objects"><span class="toc-text">JavaScript Objects</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Anonymous_Functions"><span class="toc-text">Anonymous Functions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Chaining"><span class="toc-text">Chaining</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#This"><span class="toc-text">This</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Operators"><span class="toc-text">Operators</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Style"><span class="toc-text">Style</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Putting_It_Together"><span class="toc-text">Putting It Together</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Going_Forward"><span class="toc-text">Going Forward</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript_Resources"><span class="toc-text">JavaScript Resources</span></a></li></ol>
                <a href="#top" id="article-toc-top">back to top</a>
            </div>
        </aside>
    </div>
</div>


  
    
      
        
          
            
              
                
                
              
              
                
              
              
                
                
              
              
            
          
          
            
              
              
              
            
          
        
      
      
    
  

  </div>
<div class="container-fluid footer">
    <footer id="footer" class="wrapper">
  <div class="container">
    <div id="footer-copyright">
      &copy; 2015 <a href="http://fireball-x.com/" target="_blank">Fireball Developers</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://twitter.com/" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a>
      <a href="https://github.com/" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>
</div>
</div>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<!-- endbuild -->
<script src="//cdnjs.cloudflare.com/ajax/libs/retina.js/1.3.0/retina.min.js" async></script>

<!-- Plugin search -->



<!--bootstrap -->
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/new-docs/js/bootstrap.min.js" type="text/javascript"></script>

    <script src="/new-docs/js/toc.js" type="text/javascript"></script>

<!-- Swiftype -->

  
  
  
  

  

</body>
</html>